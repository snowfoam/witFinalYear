(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04caeda9"],{"7eea":function(e,t,r){"use strict";var a=r("b9c3"),n=r.n(a);n.a},b9c3:function(e,t,r){},d55a:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"add-btn"},[r("Button",{attrs:{type:"primary",icon:"ios-add"},on:{click:e.openCreateModal}},[e._v("Create Subject")])],1),r("Table",{attrs:{border:"",columns:e.columns,data:e.subjects},scopedSlots:e._u([{key:"no",fn:function(t){t.row;var a=t.index;return[r("span",[e._v(e._s(a+1))])]}},{key:"action",fn:function(t){var a=t.row;return[r("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",ghost:"",size:"small"},on:{click:function(t){return e.openUpdateModal(a)}}},[e._v("edit")]),r("Button",{attrs:{type:"error",size:"small",ghost:""},on:{click:function(t){return e.openDeleteModal(a)}}},[e._v("delete")])]}}])}),r("Modal",{attrs:{title:"subject - "+e.modalType,loading:e.loading},on:{"on-ok":e.handleOnOk},model:{value:e.showCreateOrUpdateModal,callback:function(t){e.showCreateOrUpdateModal=t},expression:"showCreateOrUpdateModal"}},[r("Form",{attrs:{model:e.formItem,"label-width":100}},[r("FormItem",{attrs:{label:"subject name"}},[r("Input",{model:{value:e.formItem.subjectName,callback:function(t){e.$set(e.formItem,"subjectName",t)},expression:"formItem.subjectName"}})],1),r("FormItem",{attrs:{label:"subject code"}},[r("Input",{model:{value:e.formItem.subjectCode,callback:function(t){e.$set(e.formItem,"subjectCode",t)},expression:"formItem.subjectCode"}})],1)],1)],1),r("Modal",{attrs:{width:"360"},model:{value:e.showDeleteModal,callback:function(t){e.showDeleteModal=t},expression:"showDeleteModal"}},[r("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[r("Icon",{attrs:{type:"ios-information-circle"}}),r("span",[e._v("subject - delete")])],1),r("div",{staticStyle:{"text-align":"center"}},[r("p",[e._v("Will you delete subject: "+e._s(e.formItem.subjectName)+"?")])]),r("div",{staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"error",loading:e.loading},on:{click:e.remove}},[e._v("delete")])],1)])],1)},n=[],s=(r("8e6e"),r("ac6a"),r("456d"),r("96cf"),r("1da1")),o=r("ade3"),c=r("2f62");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={name:"subjects",components:{},data:function(){return{modalType:"create",showCreateOrUpdateModal:!1,showDeleteModal:!1,loading:!1,formItem:{_id:"",subjectName:"",subjectCode:""},columns:[{title:"No",slot:"no",width:70},{title:"Subject Name",key:"subjectName"},{title:"Subject Code",key:"subjectCode"},{title:"Action",slot:"action",width:150,align:"center"}],subjects:[]}},methods:u(u({},Object(c["b"])(["getSubjects","createSubject","updateSubject","removeSubject"])),{},{openCreateModal:function(){this.modalType="create",this.showCreateOrUpdateModal=!0,this.formItem={_id:"",subjectName:"",subjectCode:""}},openUpdateModal:function(e){this.modalType="update",this.showCreateOrUpdateModal=!0;var t=e._id,r=e.subjectCode,a=e.subjectName;this.formItem={_id:t,subjectCode:r,subjectName:a}},openDeleteModal:function(e){var t=e._id,r=e.subjectCode,a=e.subjectName;this.formItem={_id:t,subjectCode:r,subjectName:a},this.showDeleteModal=!0},query:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getSubjects();case 2:t=e.sent,r=t.list,this.subjects=r;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleOnOk:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.loading=!0,t=this.formItem,r=t._id,a=t.subjectCode,n=t.subjectName,"create"!==this.modalType){e.next=8;break}return e.next=5,this.createSubject({subjectCode:a,subjectName:n});case 5:s=e.sent,e.next=11;break;case 8:return e.next=10,this.updateSubject({subjectId:r,subjectCode:a,subjectName:n});case 10:s=e.sent;case 11:if(!s||!s.success){e.next=17;break}return e.next=14,this.query();case 14:this.$Message.success("".concat(this.modalType," success")),e.next=18;break;case 17:this.$Message.error("".concat(this.modalType," fail"));case 18:this.loading=!1;case 19:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),remove:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.removeSubject({subjectId:this.formItem._id});case 3:if(t=e.sent,r=t.success,!r){e.next=11;break}return e.next=8,this.query();case 8:this.$Message.success("remove success"),e.next=12;break;case 11:this.$Message.error("remove fail");case 12:this.loading=!1,this.showDeleteModal=!1;case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}),mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.query();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},d=l,m=(r("7eea"),r("2877")),b=Object(m["a"])(d,a,n,!1,null,null,null);t["default"]=b.exports}}]);